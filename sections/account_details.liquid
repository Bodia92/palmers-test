{{ 'account_page.css' | asset_url | stylesheet_tag }}
<!-- Bio & Loyalty points -->
<div id="tokens--api_filters" hidden="true">5</div>
<section data-section-id="{{ section.id }}" data-section-type="account">
	<div class="container container--flush">
		<div class="page__sub-header">
			<nav aria-label="{{ 'general.breadcrumb.title' | t }}" class="breadcrumb">
				<ol class="breadcrumb__list" role="list">
					<li class="breadcrumb__item">
						<a class="breadcrumb__link link" href="{{ routes.root_url }}">{{ 'general.breadcrumb.home' | t }}</a> {%- render 'icon', icon: 'arrow-right' -%}
					</li>

					<li class="breadcrumb__item">
						<a class="breadcrumb__link link" href="{{ routes.account_url }}">{{ 'general.breadcrumb.account' | t }}</a> {%- render 'icon', icon: 'arrow-right' -%}
					</li>

					<li class="breadcrumb__item">
						<span class="breadcrumb__link" aria-current="page">Account Details</span>
					</li>
				</ol>
			</nav>
		</div>

		<div class="layout">
			<div class="layout__section layout__section--secondary">
				<div class="card card--sticky hidden-pocket">
					<div class="card__section card__section--tight">
						<div class="card__linklist">
							<a href="{{ routes.account_url }}" class="card__linklist-item link">Dashboard</a>
							<a href="/account?view=rewards" class="card__linklist-item link">Rewards</a>
							<a href="/account?view=orders" class="card__linklist-item link">Online Orders</a>
                            <a href="/account?view=history" class="card__linklist-item link">In-Store Orders</a>
							<a href="{{ routes.account_addresses_url }}" class="card__linklist-item link text--strong active_page_mod">Account Details</a>
							<a href="{{ routes.account_logout_url }}" class="card__linklist-item link" data-no-instant>{{ 'customer.general.logout' | t }}</a>
						</div>
					</div>
				</div>

				<div class="value-picker-wrapper hidden-tablet-and-up">
					<button class="value-picker-button value-picker-button--pill" aria-haspopup="true" aria-expanded="false" aria-controls="account-selector" data-action="open-value-picker">
						Account Details {%- render 'icon', icon: 'arrow-bottom' -%}
					</button>

					<div id="account-selector" class="value-picker" aria-hidden="true">
						<div class="value-picker__inner">
							<header class="value-picker__header">
								<span class="value-picker__title text--strong">{{ 'customer.general.my_account' | t }}</span>
								<button class="value-picker__close" data-action="close-value-picker" aria-controls="account-selector" aria-label="{{ 'general.accessibility.close' | t }}">{% render 'icon', icon: 'close' %}</button>
							</header>

							<div class="value-picker__choice-list">
								<a href="{{ routes.account_url }}" class="value-picker__choice-item">Dashboard</a>
								<a href="/account?view=rewards" class="value-picker__choice-item">Rewards</a>
								<a href="/account?view=orders" class="value-picker__choice-item">Online Orders</a>
								<a href="/account?view=history" class="value-picker__choice-item">In-Store Orders</a>
								<a href="{{ routes.account_addresses_url }}" class="value-picker__choice-item is-selected">Account Details</a>
								<a href="{{ routes.account_logout_url }}" class="value-picker__choice-item" data-no-instant>{{ 'customer.general.logout' | t }}</a>
							</div>
						</div>
					</div>
				</div>
			</div>

			<div class="layout__section">
				<div class="card account_table">
					<div class="card__section card__section--flex card__section--tight">
						<h1 class="card__title heading h1">Account Details</h1>


						{% comment %}
							{%- if customer.addresses_count > 0 -%}
								<button class="button button--small button--primary" data-action="open-modal" aria-controls="modal-address-new">
								{{ 'customer.addresses.add_address' | t }}
								</button>
							{%- endif -%}
						{% endcomment %}
					</div>
					{%- if customer.addresses_count == 0 -%}
						<div class="dashboard_block dashboard_block--details_mod">
							<div class="dashboard_block__in" id="dashboard_block__in--tohide">
								<div>
									<h2 class="dashboard_block__info_title">Loading...</h2>
								</div>
							</div>
							<div class="dashboard_block__in" id="dashboard_block__in--toshow" hidden="true">
								<div class="dashboard_block__col">
									<div class="dashboard_item">
										<div class="account_information">
											<h3 class="dashboard_block__info_title">Account information</h3>
											<ul class="account_information__list">
												<li class="account_information__list_item">
													<div class="account_information__value" id="account_information__value--fname" data-value="First Name"></div>
												</li>
												<li class="account_information__list_item">
													<div class="account_information__value" id="account_information__value--lname" data-value="Last Name"></div>
												</li>
												<li class="account_information__list_item">
													<div class="account_information__value" id="account_information__value--email" data-value="Email"></div>
												</li>
												<li class="account_information__list_item">
													<div class="account_information__value" id="account_information__value--mphone" data-value="Mobile phone"></div>
												</li>
												<li class="account_information__list_item">
													<div class="account_information__value" id="account_information__value--hphone" data-value="Home phone"></div>
												</li>
												<li class="account_information__list_item">
													<div class="account_information__value" id="account_information__value--bday" data-value="Date of birth"></div>
												</li>
												<li class="account_information__list_item">
													<div class="account_information__value" id="account_information__value--gender" data-value="Gender"></div>
												</li>
												<li class="account_information__list_item">
													<button class="account_edit_btn" data-action="open-modal" aria-controls="general_information">Edit</button>
												</li>
											</ul>
											<div class="account_information__bottom">
												<button class="btn_base" data-action="open-modal" aria-controls="edit_password">Change password</button>
											</div>
										</div>
									</div>
								</div>
								<div class="dashboard_block__col">
									<div class="dashboard_item">
										<div class="account_information">
											<h3 class="dashboard_block__info_title">preferred store</h3>
											<ul class="account_information__list">
												<li class="account_information__list_item">
													<div class="account_information__value" data-value="Store Name" id="account_information__value--store">Palmers Albany</div>
												</li>
												<li class="account_information__list_item">
													<button class="account_edit_btn" data-action="open-modal" aria-controls="preferred_store">Edit</button>
												</li>
											</ul>
										</div>
									</div>
								</div>
								{% comment %}
								<div class="dashboard_block__col">
									<div class="empty-state empty-state--extra-tight">
										<div class="empty-state__icon">
											{%- render 'icon', icon: 'address' -%}
											<span class="empty-state__count">0</span>
										</div>
										<p class="empty-state__icon-description">{{ 'customer.addresses.no_addresses' | t }}</p>
										<div class="empty-state__button-container">
											<button class="empty-state__button button button--primary" data-action="open-modal" aria-controls="modal-address-new">{{ 'customer.addresses.no_addresses_button' | t }}</button>
										</div>
									</div>
								</div>
								{% endcomment %}
							</div>
						</div>
					{%- else -%}
							<div class="dashboard_block dashboard_block--details_mod">
								<div class="dashboard_block__in" id="dashboard_block__in--tohide">
									<div>
										<h2 class="dashboard_block__info_title">Loading...</h2>
									</div>
								</div>
								<div class="dashboard_block__in" id="dashboard_block__in--toshow" hidden="true">
									<div class="dashboard_block__col">
										<div class="dashboard_item">
											<div class="account_information">
												<h3 class="dashboard_block__info_title">Account information</h3>
												<ul class="account_information__list">
													<li class="account_information__list_item">
														<div class="account_information__value" id="account_information__value--fname" data-value="First Name"></div>
													</li>
													<li class="account_information__list_item">
														<div class="account_information__value" id="account_information__value--lname" data-value="Last Name"></div>
													</li>
													<li class="account_information__list_item">
														<div class="account_information__value" id="account_information__value--email" data-value="Email"></div>
													</li>
													<li class="account_information__list_item">
														<div class="account_information__value" id="account_information__value--mphone" data-value="Mobile phone"></div>
													</li>
													<li class="account_information__list_item">
														<div class="account_information__value" id="account_information__value--hphone" data-value="Home phone"></div>
													</li>
													<li class="account_information__list_item">
														<div class="account_information__value" id="account_information__value--bday" data-value="Date of birth"></div>
													</li>
													<li class="account_information__list_item">
														<div class="account_information__value" id="account_information__value--gender" data-value="Gender"></div>
													</li>
													<li class="account_information__list_item">
														<button class="account_edit_btn" data-action="open-modal" aria-controls="general_information">Edit</button>
													</li>
												</ul>
												<div class="account_information__bottom">
													<button class="btn_base" data-action="open-modal" aria-controls="edit_password">Change password</button>
												</div>
											</div>
										</div>
									</div>
									<div class="dashboard_block__col">
										<div class="dashboard_item">
											<div class="account_information">
												<h3 class="dashboard_block__info_title">preferred store</h3>
												<ul class="account_information__list">
													<li class="account_information__list_item">
														<div class="account_information__value" data-value="Store Name" id="account_information__value--store">Palmers Albany</div>

													</li>
													<li class="account_information__list_item">
														<button class="account_edit_btn" data-action="open-modal" aria-controls="preferred_store">Edit</button>
													</li>
												</ul>
											</div>
										</div>
									</div>
									{% comment %}
									<div class="dashboard_block__col">
										<div class="dashboard_item">
											<div class="account_information">
												<h3 class="dashboard_block__info_title">{{ 'customer.addresses.default_address' | t }}</h3>
												<div class="account_information__list_item">
													{{- customer.default_address | format_address -}}
												</div>
												<div class="address-list__action-list">
													<button class="account_edit_btn" data-action="open-modal" aria-controls="modal-address-{{ customer.default_address.id }}">{{ 'customer.addresses.edit' | t }}</button>
													<button class="account_edit_btn" onclick="Shopify.CustomerAddress.destroy({{ customer.default_address.id }}); return false">{{ 'customer.addresses.delete' | t }}</button>
												</div>
												{%- if customer.addresses_count < 2 -%}
													<div class="account_information__bottom">
														<button class="btn_base" data-action="open-modal" aria-controls="modal-address-new">
															{{ 'customer.addresses.add_address' | t }}
														</button>
													</div>
												{%- endif -%}
											</div>
										</div>
									</div>
									{%- assign address_count = paginate.current_offset | plus: 2 -%}

									{%- for address in customer.addresses -%}
										{%- if address.id == customer.default_address.id -%}
											{%- continue -%}
										{%- endif -%}


										<div class="dashboard_block__col">
											{{ forloop.index }} / {{ address_count }} / {{ customer.addresses.size }}
											<div class="dashboard_item">
												<div class="account_information">
													<h3 class="dashboard_block__info_title">{{ 'customer.addresses.address_number' | t: number: address_count }}</h3>
													<div class="account_information__list_item">
														{{- address | format_address -}}
													</div>
													<div class="address-list__action-list">
														<button class="account_edit_btn" data-action="open-modal" aria-controls="modal-address-{{ address.id }}">{{ 'customer.addresses.edit' | t }}</button>
														<button class="account_edit_btn" onclick="Shopify.CustomerAddress.destroy({{ address.id }}); return false">{{ 'customer.addresses.delete' | t }}</button>
													</div>
													{% unless address_count != customer.addresses.size %}
														<div class="account_information__bottom">
															<button class="btn_base" data-action="open-modal" aria-controls="modal-address-new">
																{{ 'customer.addresses.add_address' | t }}
															</button>
														</div>
													{% endunless %}
												</div>
											</div>
										</div>

										{%- assign address_count = address_count | plus: 1 -%}
									{%- endfor -%}
									{% endcomment %}
								</div>
							</div>
					{% endif %}
				</div>
			</div>
		</div>
	</div>

	{% comment %}FORM FOR NEW ADDRESS{% endcomment %}

	{%- assign new_form_errored = false -%}

	{%- capture form_status -%}
		{%- form 'customer_address', customer.new_address, class: 'form' -%}
			{%- if form.errors -%}
				{%- assign new_form_errored = true -%}
			{%- endif -%}
		{%- endform -%}
	{%- endcapture -%}

	<div id="modal-address-new" class="modal" aria-hidden="{% if new_form_errored %}false{% else %}true{% endif %}">
		<div class="modal__dialog" role="dialog">
			<header class="modal__header">
				<h3 class="modal__title heading h2">{{ 'customer.addresses.add_address' | t }}</h3>
				<button class="modal__close link" data-action="close-modal" title="{{ 'general.accessibility.close' | t | escape }}">
					{%- render 'icon', icon: 'close' -%}
				</button>
			</header>

			<div class="modal__content modal__content--ios-push">
				<p class="modal__description">{{ 'customer.addresses.form_subtitle' | t }}</p>

				{%- form 'customer_address', customer.new_address, class: 'form' -%}
					{%- if form.errors -%}
						<div class="alert alert--error">
							<ul class="alert__error-list" role="list">
								{%- for field in form.errors -%}
									{%- if field == 'form' -%}
										<li class="alert__error-item">{{ form.errors.messages[field] }}</li>
									{%- else -%}
										<li class="alert__error-item"><strong>{{ form.errors.translated_fields[field] }}</strong> {{ form.errors.messages[field] }}</li>
									{%- endif -%}
								{%- endfor -%}
							</ul>
						</div>
					{%- endif -%}

					{%- if request.locale.iso_code == 'ja' -%}
						<div class="form__input-wrapper form__input-wrapper--labelled">
							<input id="address-new[last_name]" type="text" class="form__field form__field--text {% if form.last_name != blank %}is-filled{% endif %}" name="address[last_name]" value="{{ form.last_name }}" autofocus>
							<label for="address-new[last_name]" class="form__floating-label">{{ 'customer.addresses.last_name' | t }}</label>
						</div>

						<div class="form__input-wrapper form__input-wrapper--labelled">
							<input id="address-new[first_name]" type="text" class="form__field form__field--text {% if form.first_name != blank %}is-filled{% endif %}" name="address[first_name]" value="{{ form.first_name }}">
							<label for="address-new[first_name]" class="form__floating-label">{{ 'customer.addresses.first_name' | t }}</label>
						</div>

						<div class="form__input-wrapper form__input-wrapper--labelled">
							<input id="address-new[zip]" type="text" class="form__field form__field--text {% if form.zip != blank %}is-filled{% endif %}" name="address[zip]" value="{{ form.zip }}">
							<label for="address-new[zip]" class="form__floating-label">{{ 'customer.addresses.zip' | t }}</label>
						</div>

						<div class="form__input-wrapper form__input-wrapper--labelled">
							<div class="select-wrapper select-wrapper--primary is-filled">
								{%- render 'icon', icon: 'arrow-bottom' -%}
								<select name="address[country]" id="address-new[country]">{{ all_country_option_tags }}</select>
							</div>

							<label for="address-new[country]" class="form__floating-label">{{ 'customer.addresses.country' | t }}</label>
						</div>

						<div class="form__input-wrapper form__input-wrapper--labelled" style="display: none">
							<div class="select-wrapper select-wrapper--primary is-filled">
								{%- render 'icon', icon: 'arrow-bottom' -%}
								<select name="address[province]" id="address-new[province]"></select>
							</div>

							<label for="address-new[province]" class="form__floating-label">{{ 'customer.addresses.province' | t }}</label>
						</div>

						<div class="form__input-wrapper form__input-wrapper--labelled">
							<input id="address-new[city]" type="text" class="form__field form__field--text {% if form.city != blank %}is-filled{% endif %}" name="address[city]" value="{{ form.city }}">
							<label for="address-new[city]" class="form__floating-label">{{ 'customer.addresses.city' | t }}</label>
						</div>

						<div class="form__input-wrapper form__input-wrapper--labelled">
							<input id="address-new[address1]" type="text" class="form__field form__field--text {% if form.address1 != blank %}is-filled{% endif %}" name="address[address1]" value="{{ form.address1 }}">
							<label for="address-new[address1]" class="form__floating-label">{{ 'customer.addresses.address1' | t }}</label>
						</div>

						<div class="form__input-wrapper form__input-wrapper--labelled">
							<input id="address-new[address2]" type="text" class="form__field form__field--text {% if form.address2 != blank %}is-filled{% endif %}" name="address[address2]" value="{{ form.address2 }}">
							<label for="address-new[address2]" class="form__floating-label">{{ 'customer.addresses.address2' | t }}</label>
						</div>

						<div class="form__input-wrapper form__input-wrapper--labelled">
							<input id="address-new[company]" type="text" class="form__field form__field--text {% if form.company != blank %}is-filled{% endif %}" name="address[company]" value="{{ form.company }}">
							<label for="address-new[company]" class="form__floating-label">{{ 'customer.addresses.company' | t }}</label>
						</div>

						<div class="form__input-wrapper form__input-wrapper--labelled">
							<input id="address-new[phone]" type="text" class="form__field form__field--text {% if form.phone != blank %}is-filled{% endif %}" name="address[phone]" value="{{ form.phone }}">
							<label for="address-new[phone]" class="form__floating-label">{{ 'customer.addresses.phone' | t }}</label>
						</div>
					{%- else -%}
						<div class="form__input-wrapper form__input-wrapper--labelled">
							<input id="address-new[first_name]" type="text" class="form__field form__field--text {% if form.first_name != blank %}is-filled{% endif %}" name="address[first_name]" value="{{ form.first_name }}" autofocus>
							<label for="address-new[first_name]" class="form__floating-label">{{ 'customer.addresses.first_name' | t }}</label>
						</div>

						<div class="form__input-wrapper form__input-wrapper--labelled">
							<input id="address-new[last_name]" type="text" class="form__field form__field--text {% if form.last_name != blank %}is-filled{% endif %}" name="address[last_name]" value="{{ form.last_name }}">
							<label for="address-new[last_name]" class="form__floating-label">{{ 'customer.addresses.last_name' | t }}</label>
						</div>

						<div class="form__input-wrapper form__input-wrapper--labelled">
							<input id="address-new[company]" type="text" class="form__field form__field--text {% if form.company != blank %}is-filled{% endif %}" name="address[company]" value="{{ form.company }}">
							<label for="address-new[company]" class="form__floating-label">{{ 'customer.addresses.company' | t }}</label>
						</div>

						<div class="form__input-wrapper form__input-wrapper--labelled">
							<input id="address-new[phone]" type="text" class="form__field form__field--text {% if form.phone != blank %}is-filled{% endif %}" name="address[phone]" value="{{ form.phone }}">
							<label for="address-new[phone]" class="form__floating-label">{{ 'customer.addresses.phone' | t }}</label>
						</div>

						<div class="form__input-wrapper form__input-wrapper--labelled">
							<input id="address-new[address1]" type="text" class="form__field form__field--text {% if form.address1 != blank %}is-filled{% endif %}" name="address[address1]" value="{{ form.address1 }}">
							<label for="address-new[address1]" class="form__floating-label">{{ 'customer.addresses.address1' | t }}</label>
						</div>

						<div class="form__input-wrapper form__input-wrapper--labelled">
							<input id="address-new[address2]" type="text" class="form__field form__field--text {% if form.address2 != blank %}is-filled{% endif %}" name="address[address2]" value="{{ form.address2 }}">
							<label for="address-new[address2]" class="form__floating-label">{{ 'customer.addresses.address2' | t }}</label>
						</div>

						<div class="form__input-row">
							<div class="form__input-wrapper form__input-wrapper--labelled">
								<input id="address-new[city]" type="text" class="form__field form__field--text {% if form.city != blank %}is-filled{% endif %}" name="address[city]" value="{{ form.city }}">
								<label for="address-new[city]" class="form__floating-label">{{ 'customer.addresses.city' | t }}</label>
							</div>

							<div class="form__input-wrapper form__input-wrapper--labelled">
								<input id="address-new[zip]" type="text" class="form__field form__field--text {% if form.zip != blank %}is-filled{% endif %}" name="address[zip]" value="{{ form.zip }}">
								<label for="address-new[zip]" class="form__floating-label">{{ 'customer.addresses.zip' | t }}</label>
							</div>
						</div>

						<div class="form__input-wrapper form__input-wrapper--labelled">
							<div class="select-wrapper select-wrapper--primary is-filled">
								{%- render 'icon', icon: 'arrow-bottom' -%}
								<select name="address[country]" id="address-new[country]">{{ all_country_option_tags }}</select>
							</div>

							<label for="address-new[country]" class="form__floating-label">{{ 'customer.addresses.country' | t }}</label>
						</div>

						<div class="form__input-wrapper form__input-wrapper--labelled" style="display: none">
							<div class="select-wrapper select-wrapper--primary is-filled">
								{%- render 'icon', icon: 'arrow-bottom' -%}
								<select name="address[province]" id="address-new[province]"></select>
							</div>

							<label for="address-new[province]" class="form__floating-label">{{ 'customer.addresses.province' | t }}</label>
						</div>
					{%- endif -%}

					<div class="form__input-wrapper form__input-wrapper--labelled">
						<div class="checkbox-wrapper">
							<input type="checkbox" class="checkbox" name="address[default]" id="address-new[default]" value="0">
							{% render 'icon', icon: 'check' %}
						</div>

						<label for="address-new[default]">{{ 'customer.addresses.set_default' | t }}</label>
					</div>

					<button class="form__submit button button--primary button--full">{{ 'customer.addresses.add_address' | t }}</button>
				{%- endform -%}
			</div>
		</div>
	</div>

	{% comment %}FORM FOR DEFAULT ADDRESS{% endcomment %}

	<div id="modal-address-{{ customer.default_address.id }}" class="modal" aria-hidden="true">
		<div class="modal__dialog" role="dialog">
			<header class="modal__header">
				<h3 class="modal__title heading h2">{{ 'customer.addresses.edit_address' | t }}</h3>
				<button class="modal__close link" data-action="close-modal" title="{{ 'general.accessibility.close' | t | escape }}">
					{%- render 'icon', icon: 'close' -%}
				</button>
			</header>

			<div class="modal__content modal__content--ios-push">
				<p class="modal__description">{{ 'customer.addresses.form_subtitle' | t }}</p>

				{% form 'customer_address', customer.default_address, class: 'form' %}
					{%- if request.locale.iso_code == 'ja' -%}
						<div class="form__input-wrapper form__input-wrapper--labelled">
							<input id="address-{{ address.id }}[last_name]" type="text" class="form__field form__field--text {% if form.last_name != blank %}is-filled{% endif %}" name="address[last_name]" value="{{ form.last_name }}" autofocus>
							<label for="address-{{ address.id }}[last_name]" class="form__floating-label">{{ 'customer.addresses.last_name' | t }}</label>
						</div>

						<div class="form__input-wrapper form__input-wrapper--labelled">
							<input id="address-{{ address.id }}[first_name]" type="text" class="form__field form__field--text {% if form.first_name != blank %}is-filled{% endif %}" name="address[first_name]" value="{{ form.first_name }}">
							<label for="address-{{ address.id }}[first_name]" class="form__floating-label">{{ 'customer.addresses.first_name' | t }}</label>
						</div>

						<div class="form__input-wrapper form__input-wrapper--labelled">
							<input id="address-{{ address.id }}[zip]" type="text" class="form__field form__field--text {% if form.zip != blank %}is-filled{% endif %}" name="address[zip]" value="{{ form.zip }}">
							<label for="address-{{ address.id }}[zip]" class="form__floating-label">{{ 'customer.addresses.zip' | t }}</label>
						</div>

						<div class="form__input-wrapper form__input-wrapper--labelled">
							<div class="select-wrapper select-wrapper--primary is-filled">
								{%- render 'icon', icon: 'arrow-bottom' -%}
								<select name="address[country]" id="address-{{ address.id }}[country]" data-default="{{ form.country }}">{{ all_country_option_tags }}</select>
							</div>

							<label for="address-{{ address.id }}[country]" class="form__floating-label">{{ 'customer.addresses.country' | t }}</label>
						</div>

						<div class="form__input-wrapper form__input-wrapper--labelled" style="display: none">
							<div class="select-wrapper select-wrapper--primary is-filled">
								{%- render 'icon', icon: 'arrow-bottom' -%}
								<select name="address[province]" id="address-{{ address.id }}[province]" data-default="{{ form.province }}"></select>
							</div>

							<label for="address-{{ address.id }}[province]" class="form__floating-label">{{ 'customer.addresses.province' | t }}</label>
						</div>

						<div class="form__input-wrapper form__input-wrapper--labelled">
							<input id="address-{{ address.id }}[city]" type="text" class="form__field form__field--text {% if form.city != blank %}is-filled{% endif %}" name="address[city]" value="{{ form.city }}">
							<label for="address-{{ address.id }}[city]" class="form__floating-label">{{ 'customer.addresses.city' | t }}</label>
						</div>

						<div class="form__input-wrapper form__input-wrapper--labelled">
							<input id="address-{{ address.id }}[address1]" type="text" class="form__field form__field--text {% if form.address1 != blank %}is-filled{% endif %}" name="address[address1]" value="{{ form.address1 }}">
							<label for="address-{{ address.id }}[address1]" class="form__floating-label">{{ 'customer.addresses.address1' | t }}</label>
						</div>

						<div class="form__input-wrapper form__input-wrapper--labelled">
							<input id="address-{{ address.id }}[address2]" type="text" class="form__field form__field--text {% if form.address2 != blank %}is-filled{% endif %}" name="address[address2]" value="{{ form.address2 }}">
							<label for="address-{{ address.id }}[address2]" class="form__floating-label">{{ 'customer.addresses.address2' | t }}</label>
						</div>

						<div class="form__input-wrapper form__input-wrapper--labelled">
							<input id="address-{{ address.id }}[company]" type="text" class="form__field form__field--text {% if form.company != blank %}is-filled{% endif %}" name="address[company]" value="{{ form.company }}">
							<label for="address-{{ address.id }}[company]" class="form__floating-label">{{ 'customer.addresses.company' | t }}</label>
						</div>

						<div class="form__input-wrapper form__input-wrapper--labelled">
							<input id="address-{{ address.id }}[phone]" type="text" class="form__field form__field--text {% if form.phone != blank %}is-filled{% endif %}" name="address[phone]" value="{{ form.phone }}">
							<label for="address-{{ address.id }}[phone]" class="form__floating-label">{{ 'customer.addresses.phone' | t }}</label>
						</div>
					{%- else -%}
						<div class="form__input-wrapper form__input-wrapper--labelled">
							<input id="address-{{ address.id }}[first_name]" type="text" class="form__field form__field--text {% if form.first_name != blank %}is-filled{% endif %}" name="address[first_name]" value="{{ form.first_name }}" autofocus>
							<label for="address-{{ address.id }}[first_name]" class="form__floating-label">{{ 'customer.addresses.first_name' | t }}</label>
						</div>

						<div class="form__input-wrapper form__input-wrapper--labelled">
							<input id="address-{{ address.id }}[last_name]" type="text" class="form__field form__field--text {% if form.last_name != blank %}is-filled{% endif %}" name="address[last_name]" value="{{ form.last_name }}">
							<label for="address-{{ address.id }}[last_name]" class="form__floating-label">{{ 'customer.addresses.last_name' | t }}</label>
						</div>

						<div class="form__input-wrapper form__input-wrapper--labelled">
							<input id="address-{{ address.id }}[company]" type="text" class="form__field form__field--text {% if form.company != blank %}is-filled{% endif %}" name="address[company]" value="{{ form.company }}">
							<label for="address-{{ address.id }}[company]" class="form__floating-label">{{ 'customer.addresses.company' | t }}</label>
						</div>

						<div class="form__input-wrapper form__input-wrapper--labelled">
							<input id="address-{{ address.id }}[phone]" type="text" class="form__field form__field--text {% if form.phone != blank %}is-filled{% endif %}" name="address[phone]" value="{{ form.phone }}">
							<label for="address-{{ address.id }}[phone]" class="form__floating-label">{{ 'customer.addresses.phone' | t }}</label>
						</div>

						<div class="form__input-wrapper form__input-wrapper--labelled">
							<input id="address-{{ address.id }}[address1]" type="text" class="form__field form__field--text {% if form.address1 != blank %}is-filled{% endif %}" name="address[address1]" value="{{ form.address1 }}">
							<label for="address-{{ address.id }}[address1]" class="form__floating-label">{{ 'customer.addresses.address1' | t }}</label>
						</div>

						<div class="form__input-wrapper form__input-wrapper--labelled">
							<input id="address-{{ address.id }}[address2]" type="text" class="form__field form__field--text {% if form.address2 != blank %}is-filled{% endif %}" name="address[address2]" value="{{ form.address2 }}">
							<label for="address-{{ address.id }}[address2]" class="form__floating-label">{{ 'customer.addresses.address2' | t }}</label>
						</div>

						<div class="form__input-row">
							<div class="form__input-wrapper form__input-wrapper--labelled">
								<input id="address-{{ address.id }}[city]" type="text" class="form__field form__field--text {% if form.city != blank %}is-filled{% endif %}" name="address[city]" value="{{ form.city }}">
								<label for="address-{{ address.id }}[city]" class="form__floating-label">{{ 'customer.addresses.city' | t }}</label>
							</div>

							<div class="form__input-wrapper form__input-wrapper--labelled">
								<input id="address-{{ address.id }}[zip]" type="text" class="form__field form__field--text {% if form.zip != blank %}is-filled{% endif %}" name="address[zip]" value="{{ form.zip }}">
								<label for="address-{{ address.id }}[zip]" class="form__floating-label">{{ 'customer.addresses.zip' | t }}</label>
							</div>
						</div>

						<div class="form__input-wrapper form__input-wrapper--labelled">
							<div class="select-wrapper select-wrapper--primary is-filled">
								{%- render 'icon', icon: 'arrow-bottom' -%}
								<select name="address[country]" id="address-{{ address.id }}[country]" data-default="{{ form.country }}">{{ all_country_option_tags }}</select>
							</div>

							<label for="address-{{ address.id }}[country]" class="form__floating-label">{{ 'customer.addresses.country' | t }}</label>
						</div>

						<div class="form__input-wrapper form__input-wrapper--labelled" style="display: none">
							<div class="select-wrapper select-wrapper--primary is-filled">
								{%- render 'icon', icon: 'arrow-bottom' -%}
								<select name="address[province]" id="address-{{ address.id }}[province]" data-default="{{ form.province }}"></select>
							</div>

							<label for="address-{{ address.id }}[province]" class="form__floating-label">{{ 'customer.addresses.province' | t }}</label>
						</div>
					{%- endif -%}

					<div class="form__input-wrapper form__input-wrapper--labelled">
						<div class="checkbox-wrapper">
							<input type="checkbox" class="checkbox" id="address-{{ customer.default_address.id }}[default]" name="address[default]" value="1" checked>
							{% render 'icon', icon: 'check' %}
						</div>

						<label for="address-{{ customer.default_address.id }}[default]">{{ 'customer.addresses.set_default' | t }}</label>
					</div>

					<button class="form__submit button button--primary button--full">{{ 'customer.addresses.edit_address' | t }}</button>
				{% endform %}
			</div>
		</div>
	</div>

	{% comment %}FORM FOR EXISTING ADDRESSES{% endcomment %}

	{%- paginate customer.addresses by 9 -%}
		{%- for address in customer.addresses -%}
			{%- if address.id == customer.default_address.id -%}
				{%- continue -%}
			{%- endif -%}

			<div id="modal-address-{{ address.id }}" class="modal" aria-hidden="true">
				<div class="modal__dialog" role="dialog">
					<header class="modal__header">
						<h3 class="modal__title heading h2">{{ 'customer.addresses.edit_address' | t }}</h3>
						<button class="modal__close link" data-action="close-modal" title="{{ 'general.accessibility.close' | t | escape }}">
							{%- render 'icon', icon: 'close' -%}
						</button>
					</header>

					<div class="modal__content modal__content--ios-push">
						<p class="modal__description">{{ 'customer.addresses.form_subtitle' | t }}</p>

						{% form 'customer_address', address, class: 'form' %}
							{%- if request.locale.iso_code == 'ja' -%}
								<div class="form__input-wrapper form__input-wrapper--labelled">
									<input id="address-{{ address.id }}[last_name]" type="text" class="form__field form__field--text {% if form.last_name != blank %}is-filled{% endif %}" name="address[last_name]" value="{{ form.last_name }}" autofocus>
									<label for="address-{{ address.id }}[last_name]" class="form__floating-label">{{ 'customer.addresses.last_name' | t }}</label>
								</div>

								<div class="form__input-wrapper form__input-wrapper--labelled">
									<input id="address-{{ address.id }}[first_name]" type="text" class="form__field form__field--text {% if form.first_name != blank %}is-filled{% endif %}" name="address[first_name]" value="{{ form.first_name }}">
									<label for="address-{{ address.id }}[first_name]" class="form__floating-label">{{ 'customer.addresses.first_name' | t }}</label>
								</div>

								<div class="form__input-wrapper form__input-wrapper--labelled">
									<input id="address-{{ address.id }}[zip]" type="text" class="form__field form__field--text {% if form.zip != blank %}is-filled{% endif %}" name="address[zip]" value="{{ form.zip }}">
									<label for="address-{{ address.id }}[zip]" class="form__floating-label">{{ 'customer.addresses.zip' | t }}</label>
								</div>

								<div class="form__input-wrapper form__input-wrapper--labelled">
									<div class="select-wrapper select-wrapper--primary is-filled">
										{%- render 'icon', icon: 'arrow-bottom' -%}
										<select name="address[country]" id="address-{{ address.id }}[country]" data-default="{{ form.country }}">{{ all_country_option_tags }}</select>
									</div>

									<label for="address-{{ address.id }}[country]" class="form__floating-label">{{ 'customer.addresses.country' | t }}</label>
								</div>

								<div class="form__input-wrapper form__input-wrapper--labelled" style="display: none">
									<div class="select-wrapper select-wrapper--primary is-filled">
										{%- render 'icon', icon: 'arrow-bottom' -%}
										<select name="address[province]" id="address-{{ address.id }}[province]" data-default="{{ form.province }}"></select>
									</div>

									<label for="address-{{ address.id }}[province]" class="form__floating-label">{{ 'customer.addresses.province' | t }}</label>
								</div>

								<div class="form__input-wrapper form__input-wrapper--labelled">
									<input id="address-{{ address.id }}[city]" type="text" class="form__field form__field--text {% if form.city != blank %}is-filled{% endif %}" name="address[city]" value="{{ form.city }}">
									<label for="address-{{ address.id }}[city]" class="form__floating-label">{{ 'customer.addresses.city' | t }}</label>
								</div>

								<div class="form__input-wrapper form__input-wrapper--labelled">
									<input id="address-{{ address.id }}[address1]" type="text" class="form__field form__field--text {% if form.address1 != blank %}is-filled{% endif %}" name="address[address1]" value="{{ form.address1 }}">
									<label for="address-{{ address.id }}[address1]" class="form__floating-label">{{ 'customer.addresses.address1' | t }}</label>
								</div>

								<div class="form__input-wrapper form__input-wrapper--labelled">
									<input id="address-{{ address.id }}[address2]" type="text" class="form__field form__field--text {% if form.address2 != blank %}is-filled{% endif %}" name="address[address2]" value="{{ form.address2 }}">
									<label for="address-{{ address.id }}[address2]" class="form__floating-label">{{ 'customer.addresses.address2' | t }}</label>
								</div>

								<div class="form__input-wrapper form__input-wrapper--labelled">
									<input id="address-{{ address.id }}[company]" type="text" class="form__field form__field--text {% if form.company != blank %}is-filled{% endif %}" name="address[company]" value="{{ form.company }}">
									<label for="address-{{ address.id }}[company]" class="form__floating-label">{{ 'customer.addresses.company' | t }}</label>
								</div>

								<div class="form__input-wrapper form__input-wrapper--labelled">
									<input id="address-{{ address.id }}[phone]" type="text" class="form__field form__field--text {% if form.phone != blank %}is-filled{% endif %}" name="address[phone]" value="{{ form.phone }}">
									<label for="address-{{ address.id }}[phone]" class="form__floating-label">{{ 'customer.addresses.phone' | t }}</label>
								</div>
							{%- else -%}
								<div class="form__input-wrapper form__input-wrapper--labelled">
									<input id="address-{{ address.id }}[first_name]" type="text" class="form__field form__field--text {% if form.first_name != blank %}is-filled{% endif %}" name="address[first_name]" value="{{ form.first_name }}" autofocus>
									<label for="address-{{ address.id }}[first_name]" class="form__floating-label">{{ 'customer.addresses.first_name' | t }}</label>
								</div>

								<div class="form__input-wrapper form__input-wrapper--labelled">
									<input id="address-{{ address.id }}[last_name]" type="text" class="form__field form__field--text {% if form.last_name != blank %}is-filled{% endif %}" name="address[last_name]" value="{{ form.last_name }}">
									<label for="address-{{ address.id }}[last_name]" class="form__floating-label">{{ 'customer.addresses.last_name' | t }}</label>
								</div>

								<div class="form__input-wrapper form__input-wrapper--labelled">
									<input id="address-{{ address.id }}[company]" type="text" class="form__field form__field--text {% if form.company != blank %}is-filled{% endif %}" name="address[company]" value="{{ form.company }}">
									<label for="address-{{ address.id }}[company]" class="form__floating-label">{{ 'customer.addresses.company' | t }}</label>
								</div>

								<div class="form__input-wrapper form__input-wrapper--labelled">
									<input id="address-{{ address.id }}[phone]" type="text" class="form__field form__field--text {% if form.phone != blank %}is-filled{% endif %}" name="address[phone]" value="{{ form.phone }}">
									<label for="address-{{ address.id }}[phone]" class="form__floating-label">{{ 'customer.addresses.phone' | t }}</label>
								</div>

								<div class="form__input-wrapper form__input-wrapper--labelled">
									<input id="address-{{ address.id }}[address1]" type="text" class="form__field form__field--text {% if form.address1 != blank %}is-filled{% endif %}" name="address[address1]" value="{{ form.address1 }}">
									<label for="address-{{ address.id }}[address1]" class="form__floating-label">{{ 'customer.addresses.address1' | t }}</label>
								</div>

								<div class="form__input-wrapper form__input-wrapper--labelled">
									<input id="address-{{ address.id }}[address2]" type="text" class="form__field form__field--text {% if form.address2 != blank %}is-filled{% endif %}" name="address[address2]" value="{{ form.address2 }}">
									<label for="address-{{ address.id }}[address2]" class="form__floating-label">{{ 'customer.addresses.address2' | t }}</label>
								</div>

								<div class="form__input-row">
									<div class="form__input-wrapper form__input-wrapper--labelled">
										<input id="address-{{ address.id }}[city]" type="text" class="form__field form__field--text {% if form.city != blank %}is-filled{% endif %}" name="address[city]" value="{{ form.city }}">
										<label for="address-{{ address.id }}[city]" class="form__floating-label">{{ 'customer.addresses.city' | t }}</label>
									</div>

									<div class="form__input-wrapper form__input-wrapper--labelled">
										<input id="address-{{ address.id }}[zip]" type="text" class="form__field form__field--text {% if form.zip != blank %}is-filled{% endif %}" name="address[zip]" value="{{ form.zip }}">
										<label for="address-{{ address.id }}[zip]" class="form__floating-label">{{ 'customer.addresses.zip' | t }}</label>
									</div>
								</div>

								<div class="form__input-wrapper form__input-wrapper--labelled">
									<div class="select-wrapper select-wrapper--primary is-filled">
										{%- render 'icon', icon: 'arrow-bottom' -%}
										<select name="address[country]" id="address-{{ address.id }}[country]" data-default="{{ form.country }}">{{ all_country_option_tags }}</select>
									</div>

									<label for="address-{{ address.id }}[country]" class="form__floating-label">{{ 'customer.addresses.country' | t }}</label>
								</div>

								<div class="form__input-wrapper form__input-wrapper--labelled" style="display: none">
									<div class="select-wrapper select-wrapper--primary is-filled">
										{%- render 'icon', icon: 'arrow-bottom' -%}
										<select name="address[province]" id="address-{{ address.id }}[province]" data-default="{{ form.province }}"></select>
									</div>

									<label for="address-{{ address.id }}[province]" class="form__floating-label">{{ 'customer.addresses.province' | t }}</label>
								</div>
							{%- endif -%}

							<div class="form__input-wrapper form__input-wrapper--labelled">
								<div class="checkbox-wrapper">
									<input type="checkbox" class="checkbox" id="address-{{ address.id }}[default]" name="address[default]" {% if address.id == customer.default_address.id %}value="1" checked{% endif %}>
									{% render 'icon', icon: 'check' %}
								</div>

								<label for="address-{{ address.id }}[default]">{{ 'customer.addresses.set_default' | t }}</label>
							</div>

							<button class="form__submit button button--primary button--full">{{ 'customer.addresses.edit_address' | t }}</button>
						{% endform %}
					</div>
				</div>
			</div>
		{%- endfor -%}
	{%- endpaginate -%}

	{% comment %}EDIT FORM FOR GENERAL INFORMATION STATIC MARKUP!!!{% endcomment %}
	{% include 'form_modal' %}
	{% comment %}EDIT FORM FOR GENERAL INFORMATION STATIC MARKUP!!!{% endcomment %}

	{% comment %}EDIT PASSWORD FORM STATIC MARKUP!!!{% endcomment %}
	{% include 'edit_password_popup' %}
	{% comment %}EDIT PASSWORD FORM STATIC MARKUP!!!{% endcomment %}

	{% comment %}EDIT PREFERRED STORE STATIC MARKUP!!!{% endcomment %}
	{% include 'preferred_store_popup' %}
	{% comment %}EDIT PREFERRED STORE STATIC MARKUP!!!{% endcomment %}


</section>

{% schema %}
{
  "name": "Account details"
}
{% endschema %}
